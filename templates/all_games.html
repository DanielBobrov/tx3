{% extends "base.html" %}
{% from "components/macros.html" import render_player_button %}
{% block title %}{{ _('common.site_title') }} — {{ _('common.site_tagline') }}{% endblock %}
{% block content %}
    <section class="hero">
        <div class="hero-left">
            <h1>{{ _('common.site_tagline') }}</h1>
        </div>

    </section>

    <section class="grid">
        <div class="panel">
            <div class="panel-head">
                <h3>{{ _('all_games_screen.title') }}</h3>
            </div>
            <div class="table">
                <div class="tr th">
                    <div>{{ _('all_games_screen.winner') }}</div>
                    <div>{{ _('all_games_screen.player_x') }}</div>
                    <div>{{ _('all_games_screen.player_o') }}</div>
                    <div>{{ _('all_games_screen.status') }}</div>
                    <div></div>
                </div>
                {% for game in last_games or [] %}
                    <a href="/game/{{ game.id }}" class="tr btn ghost">
                        {{ render_player_button(game.players[game.winner], players) }}
                        {{ render_player_button(game.players[0], players) }}
                        {{ render_player_button(game.players[1], players) }}
                        <div style="text-align: center">{{ game.status }}</div>
                    </a>
                {% else %}
                    <div class="tr empty">
                        <div class="muted">Нет последних игр. Создайте первую!</div>
                    </div>
                {% endfor %}
            </div>
        </div>


    </section>
{% endblock %}
{% block scripts %}
{% endblock %}